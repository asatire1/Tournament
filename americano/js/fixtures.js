/**
 * fixtures.js - Multi-Court Optimized Americano Tournament Fixtures
 * 
 * Design goals:
 * 1. Every player partners with every other player at least once
 * 2. Balanced games per player
 * 3. Optimized for multi-court simultaneous play
 * 
 * KEY FEATURE: 8 players + 2 courts = 7 rounds (everyone plays every round!)
 * 
 * Fixtures are ordered so consecutive fixtures can run simultaneously
 * when there are no player conflicts.
 */

const FIXTURES = {
    // 5 Players - 5 fixtures, 5 rounds
    // 4-4 games/player (perfectly balanced)
    // Max 1 court (only 4 players per match, 1 rests)
    5: [
        { teams: [[1,2],[3,4]], rest: [5] },
        { teams: [[1,3],[4,5]], rest: [2] },
        { teams: [[1,4],[2,5]], rest: [3] },
        { teams: [[1,5],[2,3]], rest: [4] },
        { teams: [[2,4],[3,5]], rest: [1] }
    ],
    
    // 6 Players - 8 fixtures, 8 rounds
    // 5-6 games/player
    // Max 1 court (4 play, 2 rest)
    6: [
        { teams: [[1,2],[3,4]], rest: [5,6] },
        { teams: [[1,3],[5,6]], rest: [2,4] },
        { teams: [[1,4],[2,5]], rest: [3,6] },
        { teams: [[1,5],[2,6]], rest: [3,4] },
        { teams: [[1,6],[3,5]], rest: [2,4] },
        { teams: [[2,3],[4,6]], rest: [1,5] },
        { teams: [[2,4],[3,6]], rest: [1,5] },
        { teams: [[4,5],[1,2]], rest: [3,6] }
    ],
    
    // 7 Players - 11 fixtures, 11 rounds
    // 6-7 games/player
    // Max 1 court (4 play, 3 rest)
    7: [
        { teams: [[1,2],[3,4]], rest: [5,6,7] },
        { teams: [[1,3],[5,6]], rest: [2,4,7] },
        { teams: [[1,4],[2,5]], rest: [3,6,7] },
        { teams: [[1,5],[6,7]], rest: [2,3,4] },
        { teams: [[1,6],[2,7]], rest: [3,4,5] },
        { teams: [[1,7],[3,5]], rest: [2,4,6] },
        { teams: [[2,3],[4,7]], rest: [1,5,6] },
        { teams: [[2,4],[5,7]], rest: [1,3,6] },
        { teams: [[2,6],[3,7]], rest: [1,4,5] },
        { teams: [[3,6],[4,5]], rest: [1,2,7] },
        { teams: [[4,6],[5,7]], rest: [1,2,3] }
    ],
    
    // 8 Players - 14 fixtures, 7 rounds (MULTI-COURT OPTIMIZED!)
    // 7-7 games/player (perfectly balanced)
    // With 2 courts: everyone plays EVERY round, no one rests!
    8: [
        // Round 1 (2 courts)
        { teams: [[1,2],[3,4]], rest: [] },
        { teams: [[5,6],[7,8]], rest: [] },
        // Round 2 (2 courts)
        { teams: [[1,3],[2,4]], rest: [] },
        { teams: [[5,7],[6,8]], rest: [] },
        // Round 3 (2 courts)
        { teams: [[1,4],[2,3]], rest: [] },
        { teams: [[5,8],[6,7]], rest: [] },
        // Round 4 (2 courts)
        { teams: [[1,5],[2,6]], rest: [] },
        { teams: [[3,7],[4,8]], rest: [] },
        // Round 5 (2 courts)
        { teams: [[1,6],[2,5]], rest: [] },
        { teams: [[3,8],[4,7]], rest: [] },
        // Round 6 (2 courts)
        { teams: [[1,7],[2,8]], rest: [] },
        { teams: [[3,5],[4,6]], rest: [] },
        // Round 7 (2 courts)
        { teams: [[1,8],[2,7]], rest: [] },
        { teams: [[3,6],[4,5]], rest: [] }
    ],
    
    // 9 Players - 18 fixtures
    // 8-8 games/player (perfectly balanced)
    9: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9] },
        { teams: [[1,3],[6,8]], rest: [2,4,5,7,9] },
        { teams: [[1,4],[7,8]], rest: [2,3,5,6,9] },
        { teams: [[1,5],[2,7]], rest: [3,4,6,8,9] },
        { teams: [[1,6],[3,9]], rest: [2,4,5,7,8] },
        { teams: [[1,7],[4,5]], rest: [2,3,6,8,9] },
        { teams: [[1,8],[6,9]], rest: [2,3,4,5,7] },
        { teams: [[1,9],[2,8]], rest: [3,4,5,6,7] },
        { teams: [[2,3],[5,7]], rest: [1,4,6,8,9] },
        { teams: [[2,4],[5,9]], rest: [1,3,6,7,8] },
        { teams: [[2,5],[3,8]], rest: [1,4,6,7,9] },
        { teams: [[2,6],[4,8]], rest: [1,3,5,7,9] },
        { teams: [[2,9],[6,7]], rest: [1,3,4,5,8] },
        { teams: [[3,5],[4,9]], rest: [1,2,6,7,8] },
        { teams: [[3,6],[5,8]], rest: [1,2,4,7,9] },
        { teams: [[3,7],[8,9]], rest: [1,2,4,5,6] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8] },
        { teams: [[4,7],[5,6]], rest: [1,2,3,8,9] }
    ],
    
    // 10-24 Players - Original fixtures (not optimized for multi-court yet)
    // These work with the dynamic multi-court algorithm but may not be optimal
    
    10: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10] },
        { teams: [[9,10],[1,3]], rest: [2,4,5,6,7,8] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10] },
        { teams: [[6,8],[1,9]], rest: [2,3,4,5,7,10] },
        { teams: [[2,10],[3,5]], rest: [1,4,6,7,8,9] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10] },
        { teams: [[8,10],[1,4]], rest: [2,3,5,6,7,9] },
        { teams: [[2,3],[5,8]], rest: [1,4,6,7,9,10] },
        { teams: [[6,7],[1,10]], rest: [2,3,4,5,8,9] },
        { teams: [[2,9],[3,6]], rest: [1,4,5,7,8,10] },
        { teams: [[4,5],[7,10]], rest: [1,2,3,6,8,9] },
        { teams: [[8,9],[1,5]], rest: [2,3,4,6,7,10] },
        { teams: [[2,6],[3,7]], rest: [1,4,5,8,9,10] },
        { teams: [[4,8],[3,9]], rest: [1,2,5,6,7,10] }
    ],

    11: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11] },
        { teams: [[9,10],[1,11]], rest: [2,3,4,5,6,7,8] },
        { teams: [[2,3],[4,5]], rest: [1,6,7,8,9,10,11] },
        { teams: [[6,7],[8,9]], rest: [1,2,3,4,5,10,11] },
        { teams: [[10,11],[1,3]], rest: [2,4,5,6,7,8,9] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10] },
        { teams: [[1,10],[2,5]], rest: [3,4,6,7,8,9,11] },
        { teams: [[3,6],[4,7]], rest: [1,2,5,8,9,10,11] },
        { teams: [[8,10],[1,9]], rest: [2,3,4,5,6,7,11] },
        { teams: [[2,11],[3,5]], rest: [1,4,6,7,8,9,10] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10,11] },
        { teams: [[8,11],[2,10]], rest: [1,3,4,5,6,7,9] },
        { teams: [[1,4],[3,7]], rest: [2,5,6,8,9,10,11] }
    ],

    12: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8] },
        { teams: [[1,3],[2,4]], rest: [5,6,7,8,9,10,11,12] },
        { teams: [[5,7],[6,8]], rest: [1,2,3,4,9,10,11,12] },
        { teams: [[9,11],[10,12]], rest: [1,2,3,4,5,6,7,8] },
        { teams: [[1,4],[2,3]], rest: [5,6,7,8,9,10,11,12] },
        { teams: [[5,8],[6,7]], rest: [1,2,3,4,9,10,11,12] },
        { teams: [[9,12],[10,11]], rest: [1,2,3,4,5,6,7,8] },
        { teams: [[1,5],[2,6]], rest: [3,4,7,8,9,10,11,12] },
        { teams: [[3,7],[4,8]], rest: [1,2,5,6,9,10,11,12] },
        { teams: [[1,9],[2,10]], rest: [3,4,5,6,7,8,11,12] },
        { teams: [[3,11],[4,12]], rest: [1,2,5,6,7,8,9,10] },
        { teams: [[5,9],[6,10]], rest: [1,2,3,4,7,8,11,12] },
        { teams: [[7,11],[8,12]], rest: [1,2,3,4,5,6,9,10] }
    ],

    13: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13] },
        { teams: [[1,13],[2,3]], rest: [4,5,6,7,8,9,10,11,12] },
        { teams: [[4,5],[6,7]], rest: [1,2,3,8,9,10,11,12,13] },
        { teams: [[8,9],[10,11]], rest: [1,2,3,4,5,6,7,12,13] },
        { teams: [[12,13],[1,3]], rest: [2,4,5,6,7,8,9,10,11] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13] },
        { teams: [[10,12],[1,4]], rest: [2,3,5,6,7,8,9,11,13] },
        { teams: [[2,13],[3,5]], rest: [1,4,6,7,8,9,10,11,12] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10,11,12,13] },
        { teams: [[8,10],[11,13]], rest: [1,2,3,4,5,6,7,9,12] },
        { teams: [[1,12],[2,5]], rest: [3,4,6,7,8,9,10,11,13] },
        { teams: [[3,6],[4,7]], rest: [1,2,5,8,9,10,11,12,13] }
    ],

    14: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14] },
        { teams: [[13,14],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14] },
        { teams: [[10,12],[1,13]], rest: [2,3,4,5,6,7,8,9,11,14] },
        { teams: [[2,14],[3,5]], rest: [1,4,6,7,8,9,10,11,12,13] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10,11,12,13,14] },
        { teams: [[8,10],[11,13]], rest: [1,2,3,4,5,6,7,9,12,14] },
        { teams: [[12,14],[1,4]], rest: [2,3,5,6,7,8,9,10,11,13] },
        { teams: [[2,3],[5,8]], rest: [1,4,6,7,9,10,11,12,13,14] },
        { teams: [[6,9],[7,10]], rest: [1,2,3,4,5,8,11,12,13,14] },
        { teams: [[11,14],[1,12]], rest: [2,3,4,5,6,7,8,9,10,13] },
        { teams: [[2,13],[3,6]], rest: [1,4,5,7,8,9,10,11,12,14] }
    ],

    15: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15] },
        { teams: [[13,14],[1,15]], rest: [2,3,4,5,6,7,8,9,10,11,12] },
        { teams: [[2,3],[4,5]], rest: [1,6,7,8,9,10,11,12,13,14,15] },
        { teams: [[6,7],[8,9]], rest: [1,2,3,4,5,10,11,12,13,14,15] },
        { teams: [[10,11],[12,13]], rest: [1,2,3,4,5,6,7,8,9,14,15] },
        { teams: [[14,15],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14] },
        { teams: [[1,14],[2,5]], rest: [3,4,6,7,8,9,10,11,12,13,15] },
        { teams: [[3,6],[4,7]], rest: [1,2,5,8,9,10,11,12,13,14,15] },
        { teams: [[8,10],[9,12]], rest: [1,2,3,4,5,6,7,11,13,14,15] },
        { teams: [[11,13],[1,4]], rest: [2,3,5,6,7,8,9,10,12,14,15] }
    ],

    16: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12] },
        { teams: [[1,3],[2,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[5,7],[6,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16] },
        { teams: [[9,11],[10,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16] },
        { teams: [[13,15],[14,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12] },
        { teams: [[1,4],[2,3]], rest: [5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[5,8],[6,7]], rest: [1,2,3,4,9,10,11,12,13,14,15,16] },
        { teams: [[9,12],[10,11]], rest: [1,2,3,4,5,6,7,8,13,14,15,16] },
        { teams: [[13,16],[14,15]], rest: [1,2,3,4,5,6,7,8,9,10,11,12] },
        { teams: [[1,5],[2,6]], rest: [3,4,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[3,7],[4,8]], rest: [1,2,5,6,9,10,11,12,13,14,15,16] },
        { teams: [[9,13],[10,14]], rest: [1,2,3,4,5,6,7,8,11,12,15,16] }
    ],

    17: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17] },
        { teams: [[1,17],[2,3]], rest: [4,5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[4,5],[6,7]], rest: [1,2,3,8,9,10,11,12,13,14,15,16,17] },
        { teams: [[8,9],[10,11]], rest: [1,2,3,4,5,6,7,12,13,14,15,16,17] },
        { teams: [[12,13],[14,15]], rest: [1,2,3,4,5,6,7,8,9,10,11,16,17] },
        { teams: [[16,17],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13,14,15] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15,16,17] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15,16,17] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14,16,17] },
        { teams: [[14,16],[1,4]], rest: [2,3,5,6,7,8,9,10,11,12,13,15,17] },
        { teams: [[2,17],[3,5]], rest: [1,4,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10,11,12,13,14,15,16,17] }
    ],

    18: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18] },
        { teams: [[17,18],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15,16,17,18] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15,16,17,18] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14,16,17,18] },
        { teams: [[14,16],[1,17]], rest: [2,3,4,5,6,7,8,9,10,11,12,13,15,18] },
        { teams: [[2,18],[3,5]], rest: [1,4,6,7,8,9,10,11,12,13,14,15,16,17] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10,11,12,13,14,15,16,17,18] },
        { teams: [[8,10],[11,13]], rest: [1,2,3,4,5,6,7,9,12,14,15,16,17,18] },
        { teams: [[12,14],[15,17]], rest: [1,2,3,4,5,6,7,8,9,10,11,13,16,18] },
        { teams: [[16,18],[1,4]], rest: [2,3,5,6,7,8,9,10,11,12,13,14,15,17] },
        { teams: [[2,3],[5,8]], rest: [1,4,6,7,9,10,11,12,13,14,15,16,17,18] }
    ],

    19: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19] },
        { teams: [[17,18],[1,19]], rest: [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[2,3],[4,5]], rest: [1,6,7,8,9,10,11,12,13,14,15,16,17,18,19] },
        { teams: [[6,7],[8,9]], rest: [1,2,3,4,5,10,11,12,13,14,15,16,17,18,19] },
        { teams: [[10,11],[12,13]], rest: [1,2,3,4,5,6,7,8,9,14,15,16,17,18,19] },
        { teams: [[14,15],[16,17]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,18,19] },
        { teams: [[18,19],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13,14,15,16,17] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15,16,17,18,19] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15,16,17,18,19] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14,16,17,18,19] },
        { teams: [[14,16],[17,19]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,15,18] },
        { teams: [[1,18],[2,5]], rest: [3,4,6,7,8,9,10,11,12,13,14,15,16,17,19] }
    ],

    20: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20] },
        { teams: [[17,18],[19,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[1,3],[2,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[5,7],[6,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[9,11],[10,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20] },
        { teams: [[13,15],[14,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20] },
        { teams: [[17,19],[18,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16] },
        { teams: [[1,4],[2,3]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[5,8],[6,7]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[9,12],[10,11]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20] },
        { teams: [[13,16],[14,15]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20] },
        { teams: [[17,20],[18,19]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16] }
    ],

    21: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20,21] },
        { teams: [[17,18],[19,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,21] },
        { teams: [[1,21],[2,3]], rest: [4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[4,5],[6,7]], rest: [1,2,3,8,9,10,11,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[8,9],[10,11]], rest: [1,2,3,4,5,6,7,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[12,13],[14,15]], rest: [1,2,3,4,5,6,7,8,9,10,11,16,17,18,19,20,21] },
        { teams: [[16,17],[18,19]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,20,21] },
        { teams: [[20,21],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14,16,17,18,19,20,21] },
        { teams: [[14,16],[17,19]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,15,18,20,21] }
    ],

    22: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21,22] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20,21,22] },
        { teams: [[17,18],[19,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,21,22] },
        { teams: [[21,22],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15,16,17,18,19,20,21,22] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14,16,17,18,19,20,21,22] },
        { teams: [[14,16],[17,19]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,15,18,20,21,22] },
        { teams: [[18,20],[1,21]], rest: [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,22] },
        { teams: [[2,22],[3,5]], rest: [1,4,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[4,6],[7,9]], rest: [1,2,3,5,8,10,11,12,13,14,15,16,17,18,19,20,21,22] },
        { teams: [[8,10],[11,13]], rest: [1,2,3,4,5,6,7,9,12,14,15,16,17,18,19,20,21,22] },
        { teams: [[12,14],[15,17]], rest: [1,2,3,4,5,6,7,8,9,10,11,13,16,18,19,20,21,22] }
    ],

    23: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20,21,22,23] },
        { teams: [[17,18],[19,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,21,22,23] },
        { teams: [[21,22],[1,23]], rest: [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[2,3],[4,5]], rest: [1,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[6,7],[8,9]], rest: [1,2,3,4,5,10,11,12,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[10,11],[12,13]], rest: [1,2,3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[14,15],[16,17]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,18,19,20,21,22,23] },
        { teams: [[18,19],[20,21]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,22,23] },
        { teams: [[22,23],[1,3]], rest: [2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21] },
        { teams: [[2,4],[5,7]], rest: [1,3,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[6,8],[9,11]], rest: [1,2,3,4,5,7,10,12,13,14,15,16,17,18,19,20,21,22,23] },
        { teams: [[10,12],[13,15]], rest: [1,2,3,4,5,6,7,8,9,11,14,16,17,18,19,20,21,22,23] }
    ],

    24: [
        { teams: [[1,2],[3,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[5,6],[7,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[9,10],[11,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[13,14],[15,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20,21,22,23,24] },
        { teams: [[17,18],[19,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,21,22,23,24] },
        { teams: [[21,22],[23,24]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[1,3],[2,4]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[5,7],[6,8]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[9,11],[10,12]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[13,15],[14,16]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,17,18,19,20,21,22,23,24] },
        { teams: [[17,19],[18,20]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,21,22,23,24] },
        { teams: [[21,23],[22,24]], rest: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20] },
        { teams: [[1,4],[2,3]], rest: [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[5,8],[6,7]], rest: [1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24] },
        { teams: [[9,12],[10,11]], rest: [1,2,3,4,5,6,7,8,13,14,15,16,17,18,19,20,21,22,23,24] }
    ]
};

/**
 * Tournament info for each player count
 */
const TOURNAMENT_INFO = {
    5: { fixtures: 5, gamesPerPlayerMin: 4, gamesPerPlayerMax: 4 },
    6: { fixtures: 8, gamesPerPlayerMin: 5, gamesPerPlayerMax: 6 },
    7: { fixtures: 11, gamesPerPlayerMin: 6, gamesPerPlayerMax: 7 },
    8: { fixtures: 14, gamesPerPlayerMin: 7, gamesPerPlayerMax: 7 },
    9: { fixtures: 18, gamesPerPlayerMin: 8, gamesPerPlayerMax: 8 },
    10: { fixtures: 15, gamesPerPlayerMin: 6, gamesPerPlayerMax: 6 },
    11: { fixtures: 15, gamesPerPlayerMin: 5, gamesPerPlayerMax: 6 },
    12: { fixtures: 15, gamesPerPlayerMin: 5, gamesPerPlayerMax: 5 },
    13: { fixtures: 15, gamesPerPlayerMin: 4, gamesPerPlayerMax: 5 },
    14: { fixtures: 15, gamesPerPlayerMin: 4, gamesPerPlayerMax: 5 },
    15: { fixtures: 15, gamesPerPlayerMin: 4, gamesPerPlayerMax: 4 },
    16: { fixtures: 15, gamesPerPlayerMin: 4, gamesPerPlayerMax: 4 },
    17: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 4 },
    18: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 4 },
    19: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 4 },
    20: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 3 },
    21: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 3 },
    22: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 3 },
    23: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 3 },
    24: { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 3 }
};

/**
 * Get fixtures for a player count
 */
function getFixtures(playerCount) {
    return FIXTURES[playerCount] || [];
}

/**
 * Get tournament info for a player count
 */
function getTournamentInfo(playerCount) {
    return TOURNAMENT_INFO[playerCount] || { fixtures: 15, gamesPerPlayerMin: 3, gamesPerPlayerMax: 4 };
}

/**
 * Validate that all partnerships are covered for a player count
 * Returns { valid: boolean, missing: [[p1,p2], ...], coverage: number }
 */
function validateFixtures(playerCount) {
    const fixtures = FIXTURES[playerCount];
    if (!fixtures) return { valid: false, missing: [], coverage: 0 };
    
    // Build set of all required partnerships
    const requiredPartnerships = new Set();
    for (let i = 1; i <= playerCount; i++) {
        for (let j = i + 1; j <= playerCount; j++) {
            requiredPartnerships.add(`${i}-${j}`);
        }
    }
    
    // Track which partnerships are covered
    const coveredPartnerships = new Set();
    fixtures.forEach(fixture => {
        // Team 1 partnership
        const t1 = fixture.teams[0].slice().sort((a,b) => a-b);
        coveredPartnerships.add(`${t1[0]}-${t1[1]}`);
        
        // Team 2 partnership
        const t2 = fixture.teams[1].slice().sort((a,b) => a-b);
        coveredPartnerships.add(`${t2[0]}-${t2[1]}`);
    });
    
    // Find missing
    const missing = [];
    requiredPartnerships.forEach(p => {
        if (!coveredPartnerships.has(p)) {
            missing.push(p.split('-').map(Number));
        }
    });
    
    const totalRequired = (playerCount * (playerCount - 1)) / 2;
    const coverage = (coveredPartnerships.size / totalRequired) * 100;
    
    return {
        valid: missing.length === 0,
        missing,
        coverage: Math.round(coverage * 10) / 10
    };
}
